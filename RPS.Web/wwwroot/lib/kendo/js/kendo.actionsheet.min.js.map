{"version":3,"sources":["kendo.actionsheet.js"],"names":["f","define","$","undefined","contains","container","target","createIcon","data","result","inlineStyles","iconClass","addClass","iconColor","hexColor","test","color","iconSize","fontSize","Object","keys","length","css","topGroupFilter","item","group","bottomGroupFilter","defaultItemsMapper","extend","defaultItem","kendo","window","Widget","ui","ns","Popup","DOCUMENT_ELEMENT","document","documentElement","MOUSEDOWN","OPEN","CLOSE","ACTIVATE","ACTION_SHEET_CONTAINER","OVERLAY","ACTION_SHEET","ACTION_SHEET_BOTTOM","STATEDISABLED","HIDDEN","proxy","template","CLICK","KEYDOWN","HEADER_TEMPLATE","ITEM_TEMPLATE","SEPARATOR","text","description","click","noop","disabled","ActionSheet","init","element","options","that","this","fn","call","_hasItems","items","_mapItems","_wrapper","_popup","_header","_items","_footer","downEvent","applyEventMap","guid","_mousedownProxy","_mousedown","wrapper","on","_keydown","events","name","title","popup","map","wrap","parent","prepend","isRtl","support","anchor","omitOriginOffsets","appendTo","modal","animation","bind","_openHandler","append","_createItems","itemsFilter","idx","itemTemplate","itemElement","icon","filter","prop","destroy","off","open","removeClass","_elementHeight","outerHeight","outerWidth","close","e","keyCode","ESC","stopPropagation","find","focus","eventTarget","plugin","jQuery","amd","a1","a2","a3"],"mappings":"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","file":"kendo.actionsheet.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('kendo.actionsheet', [\n        'kendo.core',\n        'kendo.popup'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'ActionSheet',\n        name: 'ActionSheet',\n        category: 'web',\n        description: 'The ActionSheet widget displays a set of choices related to a task the user initiates.',\n        depends: [\n            'core',\n            'popup'\n        ]\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo;\n        var Widget = kendo.ui.Widget;\n        var ui = kendo.ui;\n        var ns = '.kendoActionSheet';\n        var Popup = ui.Popup;\n        var DOCUMENT_ELEMENT = $(document.documentElement);\n        var MOUSEDOWN = 'down';\n        var OPEN = 'open';\n        var CLOSE = 'close';\n        var ACTIVATE = 'activate';\n        var ACTION_SHEET_CONTAINER = 'k-actionsheet-container';\n        var OVERLAY = 'k-overlay';\n        var ACTION_SHEET = 'k-actionsheet';\n        var ACTION_SHEET_BOTTOM = 'k-actionsheet-bottom';\n        var STATEDISABLED = 'k-state-disabled';\n        var HIDDEN = 'k-hidden';\n        var extend = $.extend;\n        var proxy = $.proxy;\n        var template = kendo.template;\n        var CLICK = 'click';\n        var KEYDOWN = 'keydown';\n        var hexColor = /^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/;\n        var HEADER_TEMPLATE = '<div class=\"k-actionsheet-header\">' + '#=title#' + '</div>';\n        var ITEM_TEMPLATE = '<li class=\"k-actionsheet-item #= disabled ? \"' + STATEDISABLED + '\" : \"\" #\">' + '<a href=\"\\\\#\" class=\"k-actionsheet-action\">' + '#if(icon){# #=icon# #}#' + '<span class=\"k-actionsheet-item-text\">' + '<span class=\"k-actionsheet-item-title\">#:text#</span>' + '#if(description){#<span class=\"k-actionsheet-item-description\">#:description#</span>#}#' + '</span>' + '</a>' + '</li>';\n        var SEPARATOR = '<hr class=\"k-hr\" />';\n        var defaultItem = {\n            text: '',\n            description: '',\n            iconClass: '',\n            iconSize: 0,\n            iconColor: '',\n            click: $.noop,\n            group: 'top',\n            disabled: false\n        };\n        function contains(container, target) {\n            if (!container || !target) {\n                return false;\n            }\n            return container === target || $.contains(container, target);\n        }\n        function createIcon(data) {\n            var result = $('<span></span>');\n            var inlineStyles = {};\n            if (!data.iconClass) {\n                return '';\n            }\n            result.addClass(data.iconClass + ' k-actionsheet-item-icon');\n            if (data.iconColor && hexColor.test(data.iconColor)) {\n                inlineStyles.color = data.iconColor;\n            } else if (data.iconColor) {\n                result.addClass('k-text-' + data.iconColor);\n            }\n            if (data.iconSize) {\n                inlineStyles.fontSize = data.iconSize;\n            }\n            if (Object.keys(inlineStyles).length) {\n                result.css(inlineStyles);\n            }\n            return result;\n        }\n        var ActionSheet = Widget.extend({\n            init: function (element, options) {\n                var that = this;\n                Widget.fn.init.call(that, element, options);\n                that._hasItems = options.items && options.items.length;\n                that._mapItems();\n                that._wrapper();\n                that._popup();\n                that._header();\n                that._items();\n                that._footer();\n                that.downEvent = kendo.applyEventMap(MOUSEDOWN, kendo.guid());\n                that._mousedownProxy = proxy(that._mousedown, that);\n                that.wrapper.on(KEYDOWN + ns, that, proxy(that._keydown, that));\n            },\n            events: [\n                OPEN,\n                CLOSE\n            ],\n            options: {\n                name: 'ActionSheet',\n                title: '',\n                items: [],\n                popup: null\n            },\n            _mapItems: function () {\n                var that = this;\n                if (!that._hasItems) {\n                    return;\n                }\n                that.options.items = that.options.items.map(defaultItemsMapper);\n            },\n            _wrapper: function () {\n                var that = this;\n                var element = that.element;\n                var wrapper;\n                element.addClass(ACTION_SHEET + ' ' + ACTION_SHEET_BOTTOM + ' k-popup');\n                that.wrapper = wrapper = element.wrap('<div class=\\'' + ACTION_SHEET_CONTAINER + ' ' + HIDDEN + '\\'></div>').parent();\n                wrapper.prepend($('<div></div>').addClass(OVERLAY));\n            },\n            _popup: function () {\n                var that = this;\n                var options = that.options;\n                that.popup = new Popup(that.element, extend(options.popup, options, {\n                    name: 'Popup',\n                    isRtl: kendo.support.isRtl(options.anchor),\n                    omitOriginOffsets: true,\n                    appendTo: that.wrapper,\n                    modal: true,\n                    animation: false,\n                    anchor: that.wrapper\n                }));\n                that.popup.bind(ACTIVATE, proxy(that._openHandler, that));\n            },\n            _header: function () {\n                var that = this;\n                var options = that.options;\n                if (!options.title) {\n                    return;\n                }\n                that.element.append(template(HEADER_TEMPLATE)(options));\n            },\n            _items: function () {\n                var that = this;\n                if (!that._hasItems) {\n                    return;\n                }\n                that._createItems(topGroupFilter);\n            },\n            _createItems: function (itemsFilter) {\n                var that = this;\n                var items = that.options.items.filter(itemsFilter);\n                var idx;\n                var item;\n                var itemTemplate;\n                var itemElement;\n                var container = $('<ul class=\\'k-actionsheet-items\\'></ul>');\n                var icon;\n                if (!items.length) {\n                    return;\n                }\n                that.element.append(container);\n                itemTemplate = template(ITEM_TEMPLATE);\n                for (idx = 0; idx < items.length; idx++) {\n                    item = items[idx];\n                    icon = createIcon(item);\n                    itemElement = $(itemTemplate(extend({}, item, { icon: icon && icon.prop('outerHTML') })));\n                    container.append(itemElement);\n                    if (item.click) {\n                        itemElement.on(CLICK + ns, proxy(item.click, that));\n                    }\n                }\n            },\n            _footer: function () {\n                var that = this;\n                if (!that._hasItems) {\n                    return;\n                }\n                that.element.append(SEPARATOR);\n                that._createItems(bottomGroupFilter);\n            },\n            destroy: function () {\n                var that = this;\n                Widget.fn.destroy.call(that);\n                that.element.off(ns);\n                that.wrapper.off(ns);\n                that.popup.destroy();\n            },\n            open: function () {\n                var that = this;\n                that.wrapper.removeClass(HIDDEN);\n                that._elementHeight = that._elementHeight || that.element.outerHeight();\n                that.popup.open((that.wrapper.outerWidth() - that.element.outerWidth()) / 2, that.wrapper.outerHeight() - that._elementHeight);\n                DOCUMENT_ELEMENT.off(that.downEvent, that._mousedownProxy).on(that.downEvent, that._mousedownProxy);\n            },\n            close: function () {\n                var that = this;\n                that.popup.close();\n                that.wrapper.addClass(HIDDEN);\n                DOCUMENT_ELEMENT.off(that.downEvent, that._mousedownProxy);\n            },\n            _keydown: function (e) {\n                var that = this;\n                var keys = kendo.keys;\n                var keyCode = e.keyCode;\n                if (keyCode == keys.ESC) {\n                    e.stopPropagation();\n                    that.close();\n                }\n            },\n            _openHandler: function () {\n                var that = this;\n                that.element.find('li.k-actionsheet-item:eq(0) a').focus();\n            },\n            _mousedown: function (e) {\n                var that = this;\n                var container = that.element[0];\n                var target = kendo.eventTarget(e);\n                if (!contains(container, target)) {\n                    that.close();\n                }\n            }\n        });\n        function topGroupFilter(item) {\n            return item.group === 'top';\n        }\n        function bottomGroupFilter(item) {\n            return item.group !== 'top';\n        }\n        function defaultItemsMapper(item) {\n            return extend({}, defaultItem, item);\n        }\n        ui.plugin(ActionSheet);\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"]}