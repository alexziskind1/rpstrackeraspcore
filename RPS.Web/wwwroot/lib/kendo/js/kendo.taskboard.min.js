/** 
 * Kendo UI v2021.2.616 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2021 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*/
!function(e,define){define("taskboard/toolbar.min",["kendo.toolbar.min"],e)}(function(){return function(e,t){var a=window.kendo,n=e.extend,o=e.proxy,r=a.ui.ToolBar,s=a.toolbar.Item,i="click",d="toggle",l="close",c="action",u="change",m=".taskBoardToolbar",p={searchbox:"k-searchbox",searchInputPrefix:"k-input-prefix",searchIcon:"k-icon k-i-search",searchInput:"k-input"},f=r.extend({init:function(e,t){var a=this;a._extendOptions(t),r.fn.init.call(a,e,t),a._attachEvents()},events:r.fn.events.concat([c]),defaultTools:{addColumn:{type:"button",text:"Add Column",name:"addColumn",command:"AddColumnCommand",icon:"plus",rules:"isEditable"},spacer:{type:"spacer"},search:{type:"TaskBoardSearch",text:"Search",name:"search",command:"SearchCommand",icon:"search",overflow:"never",rules:"isSearchable"}},_attachEvents:function(){var e=this;e.bind(d,o(e._click,e)),e.bind(l,o(e._click,e)),e.bind(i,o(e._click,e)),e.bind(u,o(e._change,e))},_extendOptions:function(e){var t=this,a=e.items?e.items:Object.keys(t.defaultTools);t.options=e,t.options.items=t._extendToolsOptions(a)},_extendToolsOptions:function(t){var r=this,s=r.options.messages;if(t.length)return t.map(function(t){var i,d=e.isPlainObject(t)&&1===Object.keys(t).length&&t.name,l={};return t=d?t.name:t,i=e.isPlainObject(t)?t:n({},r.defaultTools[t]||{name:t,command:t+"Command",type:"button"}),r._validateRules(i)?(l[a.attr("command")]=i.command,l[a.attr("options")]=i.options,a.deepExtend(i,{id:i.id||i.name+"-"+a.guid(),name:i.name,text:s[i.name]||i.name,attributes:n({"aria-label":s[i.name]||i.name,title:s[i.name]},l),overflow:i.overflow}),"buttonGroup"===i.type&&(i.buttons=i.buttons.map(o(r._mapButtonGroups,r))),"splitButton"===i.type&&(i.menuButtons=i.menuButtons.map(o(r._mapMenuButtons,r))),i):{hidden:!0}},r)},_mapButtonGroups:function(e){var t=this,o=t.options.messages,r={};return r[a.attr("command")]=e.command,r[a.attr("options")]=e.options,a.deepExtend(e,{attributes:n({},e.attributes,{"aria-label":o[e.name],title:o[e.name]},r)})},_mapMenuButtons:function(e){var t=this,o=t.options.messages,r={};return r[a.attr("command")]=e.command,r[a.attr("options")]=e.options,a.deepExtend(e,{text:o[e.name],attributes:n({},e.attributes,{"aria-label":o[e.name],title:o[e.name]},r)})},_validateRules:function(e){var t,a=this,n=a.options.states,o=e.rules?e.rules.split(";"):[];if(!o.length)return!0;for(t=0;t<o.length;t++)if(!n[o[t]])return!1;return!0},_click:function(t){var n=e(t.target).attr(a.attr("command")),o=e(t.target).attr(a.attr("options"));n&&this.action({command:n,options:o})},_change:function(t){var o=e(t.target).attr(a.attr("command")),r=e(t.target).attr(a.attr("options"));r=n({},r,{value:e(t.target).val()}),o&&this.action({command:o,options:r})},isToolEnabled:function(e){var t,a=this,n=a.options,o=!1;for(t=0;t<n.items.length;t++)if(n.items[t].name==e){o=!0;break}return n.items[e]||o},action:function(e){this.trigger(c,e)},destroy:function(){this.search&&this.search.destroy(),r.fn.destroy.call(this)}}),h=s.extend({init:function(t,a){var n=this,o=f.styles,r=e("<span class='"+o.searchbox+"'></span>"),s=e("<input class='"+o.searchInput+"' autocomplete='off' />"),i=e("<span class='"+o.searchInputPrefix+"'></span>"),d=e("<span></span>");n.element=r,n.input=s,n.iconWrapper=i,n.icon=d,n.options=t,n.options.type="taskBoardSearch",n.toolbar=a,n.attributes(),n.renderIcon(),n.addUidAttr(),n.addIdAttr(),n.addOverflowAttr(),n.input.attr({placeholder:n.options.text,title:n.options.text}),n.iconWrapper.append(d),n.element.append(i).append(n.input),n._bindEvents(),n.toolbar.search=n},attributes:function(){this.options.attributes&&this.input.attr(this.options.attributes)},renderIcon:function(){this.options.icon&&this.icon.addClass(f.styles.searchIcon)},_bindEvents:function(){this._inputHandler=o(this._input,this),this.input.on("input"+m,this._inputHandler)},_input:function(e){this.toolbar.trigger(u,{target:e.target})},destroy:function(){this.element.off(m)}});a.toolbar.registerComponent("TaskBoardSearch",h),n(a.ui,{taskboard:{ToolBar:f}}),n(!0,a.ui.taskboard.ToolBar,{styles:p})}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,a){(a||t)()}),function(e,define){define("taskboard/column.min",["kendo.sortable.min"],e)}(function(){return function(e,t){function a(e){e.preventDefault()}var n=window.kendo,o=n.ui,r=n.Observable,s=e.extend,i=e.proxy,d=".",l=d+"kendoTaskBoardColumn",c="click",u="blur",m="move",p="moveStart",f="moveEnd",h="change",g="action",b={element:"k-taskboard-column",header:"k-taskboard-column-header",headerText:"k-taskboard-column-header-text",ellipsis:"k-text-ellipsis",spacer:"k-spacer",actions:"k-taskboard-column-header-actions",cardsContainer:"k-taskboard-column-cards-container",columnCards:"k-taskboard-column-cards",actionButton:"k-taskboard-column-action-button",button:"k-button k-button-icon k-flat",card:"k-taskboard-card",cardTitle:"k-card-title",sortableSuffix:"-kendosortable",textbox:"k-textbox",input:"k-input",newColumn:"k-taskboard-column-new",editColumn:"k-taskboard-column-edit",disabled:"k-state-disabled",dragPlaceholder:"k-taskboard-drag-placeholder",dragHint:"k-taskboard-drag-hint",ignoreDrag:"k-taskboard-drag-ignore",grabbingCursor:"k-cursor-grabbing"},C=r.extend({init:function(e,t){var a=this;a._dataItem=t,a.options=s(!0,{},e),a.sortableUniqueClass=a.options.sortableIdentifier+C.styles.sortableSuffix,a._render(),a._attachEvents(),e.states.isReorderable&&a._initSortable(),r.fn.init.call(a)},empty:function(){var e=this;e.container.empty()},addCard:function(e){var t=this;t.container.append(e)},edit:function(){var e=this,t=C.styles;e.element.addClass(t.editColumn),e._renderEditHeader()},getDataItem:function(){return this._dataItem},cards:function(){var e=this;return e.container.children()},template:'<div class="#: styles.headerText # #: styles.ellipsis #">{0}</div><span class="#: styles.spacer #"></span>#=buttons#',editTemplate:'<div class="#: styles.headerText # #: styles.ellipsis #"><span class="#: styles.textbox #"><input class="#: styles.input #" placeholder="#: {0} ? messages.editColumn : messages.newColumn #" #:kendo.attr("command")#="SaveColumnCommand" value="#:{0}#" /></span></div><span class="#: styles.spacer #"></span>#=buttons#',actionButton:'<button class="#: styles.actionButton # #: styles.button #" title="#:text#" #:kendo.attr("command")#="#:command#" #if(options){##:kendo.attr("options")#="#:options#"#}#><i class="#:icon# #:spriteCssClass#"></i></button>',builtinButtons:{editColumn:{name:"editColumn",icon:"edit",text:"Edit Column",command:"EditColumnCommand",rules:"isEditable"},addCard:{name:"addCard",icon:"add",text:"Add Card",command:"AddCardCommand",rules:"isEditable"},deleteColumn:{name:"deleteColumn",icon:"close",text:"Delete Column",command:"DeleteColumnCommand",rules:"isEditable"}},defaultButtons:["editColumn","addCard","deleteColumn"],_render:function(){var t=this,a=C.styles,o=n.guid(),r=e("<div class='"+a.element+"'></div>").attr(n.attr("uid"),t._dataItem.uid).css({width:t.options.width}).attr("role","list").attr("aria-labelledby",o),s=e("<div class='"+a.header+"'></div>"),i=e("<div class='"+a.cardsContainer+"'></div>"),d=e("<div class='"+a.columnCards+"'></div>");t.header=s.appendTo(r).attr("id",o),t._renderHeader(),i.appendTo(r),t.container=d.appendTo(i).addClass(t.sortableUniqueClass),t.element=r},_renderHeader:function(){var e=this,t=C.styles,a=e.options,o=a.template?a.template:n.format(e.template,"#:"+a.dataTextField+"#");e.header.append(n.template(o)(s(!0,{},{styles:t,buttons:e._buildActionsHtml()},e._dataItem)))},_renderEditHeader:function(){var e=this,t=C.styles,a=e.options,o=a.editTemplate?a.editTemplate:n.format(e.editTemplate,a.dataTextField);e.header.html(""),e.header.append(n.template(o)(s(!0,{},{styles:t,messages:a.messages,buttons:e._buildActionsHtml()},e._dataItem))),setTimeout(function(){e.header.find("input").focus()},0),e.header.find(d+t.actions).addClass(t.disabled)},_buildActionsHtml:function(){var t,a,o,r=this,i=r.options,d=i.messages,l=i.buttons||r.defaultButtons,c=C.styles,u="<div class='"+c.actions+"'>";for(t=0;t<l.length;t++)a=l[t],a=e.isPlainObject(a)&&1===Object.keys(a).length&&a.name?a.name:a,"string"==typeof a?a=s(!0,{},r.builtinButtons[a]||{spriteCssClass:a,command:a+"Command"},{text:d[a]||a}):e.isPlainObject(a)&&a.name&&(a=s(!0,a,{text:d[a.name]})),r._validateRules(a)&&(o=a.icon?"k-icon k-i-"+a.icon:"",a.icon=o,a.spriteCssClass=a.spriteCssClass||"",u+=n.template(r.actionButton)(s(!0,{},{styles:c,options:!1},a)));return u+="</div>"},_validateRules:function(e){var t,a=this,n=a.options.states,o=e.rules?e.rules.split(";"):[];if(!o.length)return!0;for(t=0;t<o.length;t++)if(!n[o[t]])return!1;return!0},_actionClick:function(t){var a=this,o=e(t.target).closest("["+n.attr("command")+"]"),r=o.attr(n.attr("command")),i=o.attr(n.attr("options"));i="string"==typeof i?{value:i}:i,r&&a.trigger(g,{command:r,options:s({target:o},i)})},_textboxBlur:function(t){var a=this,o=e(t.target).closest("["+n.attr("command")+"]"),r=o.attr(n.attr("command")),i=o.attr(n.attr("options"));i="string"==typeof i?{value:i}:i,r&&a.trigger(g,{command:r,options:s({target:o},i)})},_attachEvents:function(){var e=this;e.header.on(c+l,d+C.styles.actionButton,i(e._actionClick,e)),e.header.on(u+l,d+C.styles.input,i(e._textboxBlur,e)),e.header.on("keyup"+l,d+C.styles.input,function(t){t.keyCode===n.keys.ENTER&&e._textboxBlur(t)}),e.container&&(e.container.on(c+l,d+C.styles.card+" ["+n.attr("command")+"]",i(e._actionClick,e)),e.container.on(c+l,d+C.styles.card+" a."+C.styles.cardTitle,a))},_initSortable:function(){var t=this,a=t.options.states.isRtl,n=a?" k-rtl":"",r=t.container;t.container&&(t.sortable=new o.Sortable(r,{ignore:d+C.styles.ignoreDrag+" *",connectWith:d+t.sortableUniqueClass,filter:d+C.styles.card,hint:function(e){return e.clone().addClass(C.styles.dragHint+" "+C.styles.grabbingCursor+n).css({width:e[0].offsetWidth,height:e[0].offsetHeight})},placeholder:function(t){return e("<div></div>").addClass(C.styles.dragPlaceholder).css({height:t[0].offsetHeight})},move:i(t._move,t),start:i(t._start,t),end:i(t._end,t),change:i(t._change,t)}),t.sortable.draggable.userEvents.unbind("select"),t.sortable.draggable.userEvents.bind("select",i(t._select,t)))},_select:function(t){var a,n=C.ignoreDragSelectors,o=e(t.event.target);for(a=0;a<n.length;a++)if(o.is(n[a])){t.preventDefault();break}},_move:function(e){s(e,{columnElement:e.sender.element.parents(d+C.styles.element)}),this.trigger(m,e)},_start:function(e){s(e,{columnElement:e.sender.element.parents(d+C.styles.element)}),this.trigger(p,e)},_end:function(e){s(e,{columnElement:e.sender.element.parents(d+C.styles.element)}),this.trigger(f,e)},_change:function(e){var t=this;s(e,{columnElement:e.sender.element.parents(d+C.styles.element)}),t.trigger(h,e),("receive"===e.action&&e.newIndex>=0||"sort"===e.action&&e.newIndex!==e.oldIndex)&&t.trigger(g,{command:"MoveCardCommand",options:e})},destroy:function(){var e=this;e.header.off(l),e.container.off(l),e.sortable&&e.sortable.destroy()}}),v=C.extend({_render:function(){var t=this,a=C.styles,o=e("<div class='"+a.element+"'></div>").addClass(a.newColumn).attr(n.attr("uid"),t._dataItem.uid),r=e("<div class='"+a.header+"'></div>");t.header=r.appendTo(o),t._renderEditHeader(),t.element=o}});s(n.ui.taskboard,{Column:C,NewColumn:v}),s(!0,n.ui.taskboard.Column,{styles:b,ignoreDragSelectors:["img"]})}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,a){(a||t)()}),function(e,define){define("taskboard/card.min",["kendo.core.min"],e)}(function(){return function(e,t){var a=window.kendo,n=a.Observable,o=e.extend,r={element:"k-taskboard-card",card:"k-card",header:"k-card-header",hbox:"k-hbox",title:"k-card-title",link:"k-link",spacer:"k-spacer",button:"k-button",cardMenuButton:"k-taskboard-card-menu-button k-button-icon",flatButton:"k-flat",body:"k-card-body",actionsIcon:"k-icon k-i-more-vertical",moveCursor:"k-cursor-move",categoryBorder:"k-taskboard-card-category",headerActions:"k-card-header-actions",disabled:"k-state-disabled"},s=n.extend({init:function(e,t,a){var r=this;r._dataItem=t,r.resources=a,r.options=o(!0,{},e),r._render(),n.fn.init.call(r)},headerTemplate:'<div class="#:styles.header# #:styles.hbox#"><a class="#:styles.title# #:styles.link#" href="\\#" #if(selectable){##:kendo.attr("command")#="SelectCardCommand"#}#>#:{0}#</a><span class="#:styles.spacer#"></span>#=cardMenuButton#</div>',bodyTemplate:'<div class="#:styles.body#"><p>#:{0}#</p></div>',cardMenuButtonTemplate:'<div class="#:styles.headerActions#"><button class="#:styles.button# #:styles.flatButton# #:styles.cardMenuButton#"><span class="#:styles.actionsIcon#"></span></button></div>',_render:function(){var t,n=this,r=n.options,i=s.styles,d=r.template||n._buildTemplate(),l=e("<div class='"+i.element+" "+i.card+" "+i.moveCursor+"'></div>"),c=r.cardMenu?n.cardMenuButtonTemplate:"",u=n._resources(n._dataItem),m=r.states.isRtl?"borderRightColor":"borderLeftColor";l.attr(a.attr("uid"),n._dataItem.uid).attr("aria-disabled",!r.states.isDisabled).attr("role","listitem").toggleClass(i.disabled,r.states.isDisabled),t=u[r.dataCategoryField]&&u[r.dataCategoryField].color||n._dataItem.get(r.dataCategoryField),t&&l.addClass(i.categoryBorder).css(m,t),l.append(a.template(d)(o(!0,{},{styles:i,cardMenuButton:a.template(c)({styles:i}),selectable:r.states.isSelectable,resources:u},n._dataItem))),n.element=l},_resources:function(e){var t,n,o,r,s,i,d,l,c,u,m,p=this,f={};if(!p.resources)return f;for(t in p.resources)if(n=p.resources[t],o=n.field,r=a.getter(o)(e))for(n.multiple||(r=[r]),s=n.dataSource.view(),i=0;i<r.length;i++){for(d=null,l=r[i],n.valuePrimitive||(l=a.getter(n.dataValueField)(l)),c=0;c<s.length;c++)if(s[c].get(n.dataValueField)==l){d=s[c];break}null!==d&&(u=a.getter(n.dataColorField)(d),m={field:n.field,title:n.title,name:n.name,text:a.getter(n.dataTextField)(d),value:l,color:u},n.multiple?f[n.field]?f[n.field].push(m):f[n.field]=[m]:f[n.field]=m)}return f},_buildTemplate:function(){var e=this,t=e.options,n=a.format(e.headerTemplate,t.dataTitleField),o=a.format(e.bodyTemplate,t.dataDescriptionField);return n+o}});o(a.ui.taskboard,{Card:s}),o(!0,a.ui.taskboard.Card,{styles:r})}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,a){(a||t)()}),function(e,define){define("taskboard/cardmenu.min",["kendo.menu.min"],e)}(function(){return function(e,t){var a=window.kendo,n=e.extend,o=e.proxy,r=a.template,s=a.ui.ContextMenu,i="action",d=s.extend({init:function(e,t){var a=this;s.fn.init.call(a,e,t),a._overrideTemplates(),a._extendItems(),a.bind("select",o(a._onSelect,a)),a.bind("open",o(a._onOpen,a)),a.bind("activate",o(a._focus,a))},_overrideTemplates:function(){this.templates.sprite=r("#if(spriteCssClass) {#<span class='#: spriteCssClass #'></span>#}#")},defaultItems:{editCard:{name:"editCard",text:"Edit card",icon:"edit",command:"EditCardCommand",rules:"isEditable"},deleteCard:{name:"deleteCard",text:"Delete card",icon:"delete",command:"DeleteCardCommand",rules:"isEditable"}},events:s.fn.events.concat([i]),_extendItems:function(){var t,a,n,o,r=this,s=r.options.items;if(s&&s.length)for(n=0;n<s.length;n++)t=s[n],a=e.isPlainObject(t)&&1===Object.keys(t).length&&t.name,a&&(t=t.name),e.isPlainObject(t)?r._append(t):r.defaultItems[t]?(t=r.defaultItems[t],r._append(t)):"string"==typeof t&&(t={name:t,text:t,spriteCssClass:t,command:t+"Command"},r._append(t));else for(o in r.defaultItems)t=r.defaultItems[o],r._append(t)},_append:function(e){var t=this;t._extendItem(e),t._validateRules(e)&&t.append(e)},_extendItem:function(e){var t=this,o=t.options.messages,r=e.icon?"k-icon k-i-"+e.icon:"",s={};s[a.attr("command")]=e.command,e.options&&(s[a.attr("options")]=e.options),n(e,{text:o[e.name],spriteCssClass:r+" "+e.spriteCssClass||"",attr:s,uid:a.guid()})},_validateRules:function(e){var t,a=this,n=a.options.states,o=e.rules?e.rules.split(";"):[];if(!o.length)return!0;for(t=0;t<o.length;t++)if(!n[o[t]])return!1;return!0},_onSelect:function(t){var o=e(t.item).attr(a.attr("command")),r=e(t.item).attr(a.attr("options")),s=e(t.target);r="string"==typeof r?{value:r}:r,o&&this.action({command:o,options:n({target:s},r)})},_onOpen:function(t){var a=t.sender,n=a.options.items;!n&&e.isEmptyObject(this.defaultItems)&&t.preventDefault()},_focus:function(e){e.sender&&e.sender.element.focus()},action:function(e){this.trigger(i,e)}});n(a.ui.taskboard,{CardMenu:d})}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,a){(a||t)()}),function(e,define){define("taskboard/commands.min",["kendo.dialog.min"],e)}(function(){return function(e,t){var a=window.kendo,n=e.extend,o=e.isPlainObject,r=a.Class,s=r.extend({init:function(e){this.options=e,this.taskboard=e.taskboard},_confirm:function(t,a,r,s){var i,d,l=this,c=l.taskboard,u=c.options;return o(u.editable)&&u.editable.confirmation===!1?(d=e.Deferred(),d.resolve(),d):(i=e("<div></div>").kendoConfirm(n({},{title:t,content:a,messages:{okText:r,cancel:s},buttonLayout:"normal"})).data("kendoConfirm"),i.open(),i.result)}}),i=s.extend({exec:function(){var e=this,t=e.taskboard;t.trigger("editColumn",{column:null})||(t.columns().each(function(e,a){t.enableByColumn(a,!1)}),t.addColumn())}}),d=s.extend({exec:function(){var e=this,t=e.options,a=e.taskboard;a.trigger("editColumn",{column:t.column})||(a.columns().each(function(e,t){a.enableByColumn(t,!1)}),a.editColumn(t.columnElement))}}),l=s.extend({exec:function(){var e=this,a=e.options,n=e.taskboard,o=n.options,r=o.messages,s=n.columnsDataSource,i=e._confirm(r.deleteColumn,r.deleteColumnConfirm,r["delete"],r.cancel);i.done(function(){return n.trigger("deleteColumn",{column:a.column})?(n.dataSource.cancelChanges(),t):(s.remove(a.column),s.sync(),t)})}}),c=s.extend({exec:function(){var e=this,a=e.options,n=e.taskboard,o=n.options.columnSettings,r=n.columnsDataSource,s=a.column,i=a.target.val();return n.trigger("saveColumn",{column:a.column})?(n.dataSource.cancelChanges(),t):(s.set(o.dataTextField,i),r.sync(),t)}}),u=s.extend({exec:function(){var e=this,t=e.taskboard,a=t.columnsDataSource;a.cancelChanges()}}),m=s.extend({exec:function(){var e,t,a=this,n=a.taskboard,o=a.options,r=o.cardElement,s=o.columnElement,i=n.columns(),d=s.index(),l=o.value;switch(l){case"left":e=Math.max(0,d-1);break;case"right":e=Math.min(i.length-1,d+1);break;default:e=d}a.columns=i,a.columnIndex=e,a.column=t=n._getColumnByElement(i.eq(e)),a.cards=t.cards(),r?a._moveFromCardFocus(l,r):s&&"down"===l?a.cards.eq(0).focus():i.eq(e).focus()},_moveFromCardFocus:function(e,t){var a,n,o=this,r=t.index(),s=!1;switch(e){case"up":n=r-1;break;case"down":n=r+1;break;default:s=!0,n=r}a=o.cards.eq(n),!a.length&&s&&(a=o._getFocusableCard(n,e)),n>=0?a.focus():o.options.columnElement.focus()},_getFocusableCard:function(e,t){var a=this,n=a.cards.length-1,o=a.cards.eq(Math.min(e,n));if(o.length)return o;if(!(a.columnIndex<=0||a.columnIndex>=a.columns.length-1)){switch(t){case"left":a.columnIndex=Math.max(0,a.columnIndex-1);break;case"right":a.columnIndex=Math.min(a.columns.length-1,a.columnIndex+1)}return a.column=a.taskboard._getColumnByElement(a.columns.eq(a.columnIndex)),a.cards=a.column.cards(),a._getFocusableCard(e,t)}}}),p=s.extend({_updateOrder:function(e,t){var a,n,o=this,r=o.taskboard,s=r.options,i=s.dataOrderField,d=o.options,l=d.card,c=d.cardElement?d.cardElement.index():e.cards().length,u=t,m=e.cards().map(function(e,t){return r.dataItem(t)}),p=m[c-1];for(l.set(i,u),p&&p.get(i)>=l.get(i)&&l.set(i,p.get(i)+1),n=u+1;n<m.length&&(a=m[n],a.get(i)<=l.get(i));n++)a.set(i,l.get(i)+1),l=a}}),f=s.extend({exec:function(){var e=this,t=e.taskboard,a=e.options,n=a.cardElement;t._select(n,!0),n.focus()}}),h=p.extend({exec:function(){var a=this,n=a.taskboard,o=n.options,r=a.options,s=r.card.get(o.dataStatusField),i=n._getColumn(s),d=e(document.activeElement);if(d.length&&d.trigger("change"),!n.pane||!n.pane.form||n.pane.form.validate()){if(n.trigger("saveCard",{card:r.card}))return n.dataSource.cancelChanges(),t;i&&o.dataOrderField&&a._updateOrder(i,r.card.get(o.dataOrderField)),n.dataSource.sync().then(function(){n.columns().eq(0).focus()})}}}),g=s.extend({exec:function(){var e=this,a=e.taskboard,n=a.options.messages,o=e.options,r=e._confirm(n.deleteCard,n.deleteCardConfirm,n["delete"],n.cancel);r.done(function(){return a.trigger("deleteCard",{card:o.card})?(a.dataSource.cancelChanges(),t):(a.dataSource.remove(o.card),a.dataSource.sync(),t)})}}),b=p.extend({exec:function(){var e=this,t=e.taskboard,a=t.options,n=a.columnSettings,o=e.options,r=o.column.get(n.dataStatusField);o.card.set(a.dataStatusField,r),a.dataOrderField&&e._updateOrder(t._getColumn(r),o.newIndex),t.dataSource.sync()}}),C=s.extend({exec:function(){var e=this,t=e.taskboard,a=e.options;t.trigger("editCard",{card:a.card})||t._openPane(n({pane:"Edit"},a))}}),v=s.extend({exec:function(){var e=this,t=e.taskboard,a=e.options;t.trigger("editCard",{card:null})||(t.dataSource.cancelChanges(),t._openPane(n({pane:"Create"},a)))}}),k=s.extend({exec:function(){var e=this,t=e.options,a=e.taskboard;a._openPane({pane:t.value,card:t.card,cardElement:t.cardElement,column:t.column,columnElement:t.columnElement})}}),y=s.extend({exec:function(){var e=this,t=e.taskboard;t._closePane(),t.dataSource.cancelChanges()}}),_=s.extend({exec:function(){var e,t=this,a=t.options.value,n=t.taskboard,o=n.options,r=o.search,s=r.operator,i=r&&r.fields||[o.dataTitleField,o.dataDescriptionField];e=t._buildFilters(i,s,a),n.dataSource.filter(e)},_buildFilters:function(e,t,a){var n=e.map(function(e){return{field:e,operator:t,value:a}});return{logic:"or",filters:n}}});n(a.ui.taskboard,{Command:s,commands:{AddColumnCommand:i,EditColumnCommand:d,DeleteColumnCommand:l,SaveColumnCommand:c,CancelEditColumnCommand:u,OpenPaneCommand:k,ClosePaneCommand:y,SelectCardCommand:f,MoveFocusCommand:m,SaveChangesCommand:h,DeleteCardCommand:g,MoveCardCommand:b,EditCardCommand:C,AddCardCommand:v,SearchCommand:_}})}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,a){(a||t)()}),function(e,define){define("taskboard/pane.min",["kendo.form.min"],e)}(function(){return function(e,t){var a=window.kendo,n=e.extend,o=a.Observable,r=e.proxy,s=a.ui.Form,i=".",d=i+"kendoTaskBoardPane",l="action",c="click",u={element:"k-taskboard-pane",edit:"k-taskboard-edit-pane",preview:"k-taskboard-preview-pane",header:"k-taskboard-pane-header",headerText:"k-taskboard-pane-header-text",spacer:"k-spacer",headerActions:"k-taskboard-pane-header-actions",button:"k-button k-button-icon k-flat",content:"k-taskboard-pane-content",footerActions:"k-taskboard-pane-actions",footerActionButtons:"k-action-buttons k-actions-end",footerButton:"k-button k-button-icontext",primary:"k-primary"},m=o.extend({init:function(e,t,s,i){var l=this;l.taskboard=e,l._dataItem=s,l.resources=i,l.options=n(!0,{},t),l._render(),l.element.on(c+d,"["+a.attr("command")+"]",r(l._commandClick,l)),o.fn.init.call(l)},headerTemplate:'<div class="#:styles.headerText#">{0}</div><span class="#:styles.spacer#"></span><div class="#:styles.headerActions#"><button class="#:styles.button#" title="#:messages.close#" #:kendo.attr("command")#="ClosePaneCommand"><span class="k-icon k-i-close"></span></button></div>',buttonTemplate:'<button class="#:styles.footerButton##if(primary){# #:styles.primary##}#" title="#:text#" #:kendo.attr("command")#="#:command#" #:kendo.attr("options")#="#:options#"><span class="#:icon# #:spriteCssClass#"></span>#:text#</button>',contentTemplate:"",builtinButtons:{edit:{name:"edit",icon:"edit",text:"Edit",primary:!0,command:"EditCardCommand",rules:"isEditable"},"delete":{name:"delete",icon:"delete",text:"Delete",command:"DeleteCardCommand",rules:"isEditable"},cancel:{name:"cancel",text:"Cancel",command:"ClosePaneCommand"},saveChanges:{name:"saveChanges",text:"Save",command:"SaveChangesCommand",primary:!0,rules:"isEditable"},create:{name:"create",text:"Create",command:"SaveChangesCommand",primary:!0,rules:"isEditable"}},defaultButtons:[],_render:function(){var t=this,a=m.styles,n=e("<div class='"+a.element+"'></div>"),o=e("<div class='"+a.header+"'></div>"),r=e("<div class='"+a.content+"'></div>"),s=e("<div class='"+a.footerActions+" "+a.footerActionButtons+"'></div>");t.header=o.appendTo(n),t._renderHeader(),t.content=r.appendTo(n),t._renderContent(),t.buttonsContainer=s.appendTo(n),t.buttonsContainer.append(t._buildButtonsHtml()),t.element=n},_renderHeader:function(){var e=this,t=m.styles,o=e.options,r=o.messages,s=o.headerTemplate?o.headerTemplate:e._buildHeaderTemplate(),i=e._resources(e._dataItem);e.header.append(a.template(s)(n(!0,{},{styles:t,messages:r,resources:i},e._dataItem)))},_buildHeaderTemplate:function(){var e=this;return a.format(e.headerTemplate,"#:"+e.options.dataTitleField+"#")},_renderContent:function(){var e=this,t=m.styles,o=e.options,r=o.messages,s=o.template||e.contentTemplate,i=e._resources(e._dataItem);e.content.append(a.template(s)(n(!0,{},{styles:t,messages:r,resources:i},e._dataItem)))},_resources:function(e){var t,n,o,r,s,i,d,l,c,u,m,p=this,f={};if(!p.resources)return f;for(t in p.resources)if(n=p.resources[t],o=n.field,r=a.getter(o)(e))for(n.multiple||(r=[r]),s=n.dataSource.view(),i=0;i<r.length;i++){for(d=null,l=r[i],n.valuePrimitive||(l=a.getter(n.dataValueField)(l)),c=0;c<s.length;c++)if(s[c].get(n.dataValueField)==l){d=s[c];break}null!==d&&(u=a.getter(n.dataColorField)(d),m={field:n.field,title:n.title,name:n.name,text:a.getter(n.dataTextField)(d),value:l,color:u},n.multiple?f[n.field]?f[n.field].push(m):f[n.field]=[m]:f[n.field]=m)}return f},_buildButtonsHtml:function(){var t,o,r,s=this,i=s.options,d=i.messages,l=i.buttons||s.defaultButtons,c=m.styles,u="";for(t=0;t<l.length;t++)o=l[t],o=e.isPlainObject(o)&&1===Object.keys(o).length&&o.name?o.name:o,"string"==typeof o?o=n(!0,{},s.builtinButtons[o]||{spriteCssClass:o,command:o+"Command"},{text:d[o]||o}):e.isPlainObject(o)&&o.name&&(o=n(!0,o,{text:d[o.name]})),s._validateRules(o)&&(r=o.icon?"k-icon k-i-"+o.icon:"",o.icon=r,o.spriteCssClass=o.spriteCssClass||"",u+=a.template(s.buttonTemplate)(n(!0,{},{styles:c,messages:d,primary:!1,options:null},o)));return u},_commandClick:function(t){var o=this,r=e(t.target).closest("["+a.attr("command")+"]"),s=r.attr(a.attr("command")),i=r.attr(a.attr("options")),d=o._dataItem;i="string"==typeof i?{value:i}:i,s&&o.trigger(l,{command:s,options:n({card:d},i)})},_validateRules:function(e){var t,a=this,n=a.options.states,o=e.rules?e.rules.split(";"):[];if(!o.length)return!0;for(t=0;t<o.length;t++)if(!n[o[t]])return!1;return!0},destroy:function(){var e=this;e.element.off(d),e.element.remove()}}),p=m.extend({init:function(e,t,o,r){var s=this;t=n({},t.previewPane,{dataTitleField:t.dataTitleField,dataDescriptionField:t.dataDescriptionField,messages:t.messages,states:t.states}),s.contentTemplate=a.format(s._contentTemplate,t.dataDescriptionField),m.fn.init.call(s,e,t,o,r),s.element.addClass(m.styles.preview)},_contentTemplate:"<p>#:{0}#</p>",defaultButtons:["delete","edit"]}),f=m.extend({init:function(e,t,a){var o=this;t=n({},t.editable,{dataTitleField:t.dataTitleField,dataDescriptionField:t.dataDescriptionField,messages:t.messages,states:t.states}),o.formSettings=n(o.formSettings,{items:[{field:t.dataTitleField,label:t.messages[t.dataTitleField]},{field:t.dataDescriptionField,label:t.messages[t.dataDescriptionField]}]},t.form),m.fn.init.call(o,e,t,a),o.element.addClass(m.styles.edit)},defaultButtons:["cancel","saveChanges"],formSettings:{buttonsTemplate:""},_buildHeaderTemplate:function(){var e=this;return a.format(e.headerTemplate,e.options.messages.edit+" #:"+e.options.dataTitleField+"#")},_renderContent:function(){var t=this,o=t.options,r=m.styles,d=o.form||t.formSettings,l=a.guid(),c=e("<div></div>").attr("role","form").attr("aria-labelledby",l);t.header.find(i+r.headerText).attr("id",l),t.content.append(c),t.form=new s(c,n({},d,{formData:t._dataItem})),t.form.element.find("input").focus()}}),h=f.extend({init:function(e,t,a,o,r){var s,i=this,d=t.columnSettings.dataStatusField,l=e.columnsDataSource.view().at(0),c=r?r[d]:l[d],u=n({},a);a=e.dataSource.add(),a.set(t.dataStatusField,c);for(s in u)a.set(s,u[s]);f.fn.init.call(i,e,t,a,o)},_buildHeaderTemplate:function(){var e=this;return a.format(e.headerTemplate,e.options.messages.createNewCard)},defaultButtons:["cancel","create"]});n(a.ui.taskboard,{Pane:m,panes:{Preview:p,Edit:f,Create:h}}),n(!0,a.ui.taskboard.Pane,{styles:u})}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,a){(a||t)()}),function(e,define){define("taskboard/keyboard.min",["kendo.core.min"],e)}(function(){return function(e,t){var a=window.kendo,n=a.Observable,o=e.proxy,r=e.extend,s=".",i=s+"kendoKeboardManager",d="keydown",l="action",c=n.extend({init:function(e){var t=this;t.register={},t.element=e,t._attachEvents(),n.fn.init.call(t)},registerShortcut:function(e,t,a){var n=this;n.register[e]||(n.register[e]=[]),t.keyCode&&isNaN(t.keyCode)&&t.keyCode.toUpperCase&&(t.keyCode=t.keyCode.toUpperCase().charCodeAt(0)),n.register[e].push({shortcut:r({keyCode:null,ctrlKey:!1,shiftKey:!1,altKey:!1},t),options:a})},_attachEvents:function(){var e=this,t=o(e._handler,e);e.element.on(d+i,t)},_handler:function(t){var a,n,o,r=this,s=e(t.target);for(o in r.register)if(s.is(o)&&(a=r.register[o],n=r._getAction(a,t))){r._trigger(n,t);break}},_trigger:function(t,a){var n=this,o=e(a.target);t.command&&n.trigger(l,r({},a,{command:t.command,options:r({},{target:o},t.options)})),t.handler&&t.handler(a)},_getAction:function(e,t){var a,n=this;for(a=0;a<e.length;a++)if(n._compareShortcut(e[a].shortcut,t))return e[a].options},_compareShortcut:function(e,t){var a,n,o=this;for(a in e){switch(n=!1,a){case"ctrlKey":n=e[a]!==o._getShortcutModifier(t);break;default:n=e[a]!==t[a]}if(n)return!1}return!0},_getShortcutModifier:function(e){var t=navigator.platform.toUpperCase().indexOf("MAC")>=0;return t?e.metaKey:e.ctrlKey},destroy:function(){var e=this;e.element.off(i)}});r(a.ui.taskboard,{KeyboardManager:c})}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,a){(a||t)()}),function(e,define){define("kendo.taskboard.min",["taskboard/toolbar.min","taskboard/column.min","taskboard/card.min","taskboard/cardmenu.min","taskboard/commands.min","taskboard/pane.min","taskboard/keyboard.min","kendo.data.min"],e)}(function(){var e={wrapper:"k-taskboard",header:"k-taskboard-header",content:"k-taskboard-content",toolbar:"k-taskboard-toolbar k-toolbar-flat",columnsContainer:"k-taskboard-columns-container",card:"k-taskboard-card",column:"k-taskboard-column",selected:"k-state-selected",disabled:"k-state-disabled",ignoreDrag:"k-taskboard-drag-ignore"},t=function(e){e.preventDefault()};return function(a,n){var o=window.kendo,r=o.ui.Widget,s=o.data.DataSource,i=a.extend,d=o.ui,l=a.proxy,c=a.isArray,u=a.isPlainObject,m="_generic",p=".",f="move",h="moveStart",g="moveEnd",b="select",C="execute",v="action",k="change",y="change",_="dataBinding",x="dataBound",S="editCard",w="saveCard",E="deleteCard",T="editColumn",F="saveColumn",D="deleteColumn",B="columnsDataBinding",I="columnsDataBound",M=r.extend({init:function(e,t){var a=this;r.fn.init.call(a,e,t),e=a.wrapper=a.element,a._sortableIdentifier=a.element.attr("id")||o.guid(),a._wrapper(),a._columnsDataSource(),a._initResources(),a._dataSource(),a._initToolbar(),a._initCardMenu(),a._initKeyboard(),a.options.autoBind&&a.load(),o.notify(a)},events:[f,h,g,k,C,b,_,x,B,I,S,w,E,T,F,D],options:{name:"TaskBoard",autoBind:!0,height:600,width:"100%",toolbar:!0,dataStatusField:"status",dataTitleField:"title",dataDescriptionField:"description",dataCategoryField:"category",dataOrderField:null,cardMenu:!0,editable:!0,selectable:!0,reorderable:!0,previewPane:!0,search:{operator:"contains"},dataSource:[],columns:[],columnSettings:{dataStatusField:"status",dataTextField:"text",dataOrderField:null},resources:[],messages:{edit:"Edit",createNewCard:"Create new card",create:"Create",search:"Search",previewCard:"Preview card",addCard:"Add card",
editCard:"Edit card",deleteCard:"Delete Card",addColumn:"Add column",editColumn:"Edit column",deleteColumn:"Delete column",close:"Close",cancel:"Cancel","delete":"Delete",saveChanges:"Save changes",title:"Title:",description:"Description:",newColumn:"New column",deleteColumnConfirm:"Are you sure you want to delete this column?",deleteCardConfirm:"Are you sure you want to delete this card?"}},items:function(){var e,t=this,n=a([]);for(e in t._columns)a.merge(n,t._columns[e].cards());return n},itemsByStatus:function(e){var t=this,a=t._getColumn(e).cards();return a},itemsByColumn:function(e){var t=this,a=t._getColumnByElement(e);if(a)return a.cards()},load:function(){var e,t=this,n=[];t._progress(!0),n.push(t.columnsDataSource.fetch());for(e in t.resources)n.push(t.resources[e].dataSource.fetch());a.when.apply(null,n).then(l(t.dataSource.read,t.dataSource))},dataItem:function(e){var t,n=this,r=n.dataSource;return e=a(e),t=e.attr(o.attr("uid")),r.getByUid(t)},columnDataItem:function(e){var t,n=this,r=n.columnsDataSource;return e=a(e),t=e.attr(o.attr("uid")),r.getByUid(t)},columns:function(){var e,t=this,n=a([]);for(e in t._columns)a.merge(n,t._columns[e].element);return n},columnByStatus:function(e){return this._getColumn(e).element},select:function(e,t){var o=this;return e?(e=a(e),t=t!==!1,t&&o.element.find(p+M.styles.card+p+M.styles.selected).removeClass(M.styles.selected),e.toggleClass(M.styles.selected,t),n):o.element.find(p+M.styles.card+p+M.styles.selected).eq(0)},previewCard:function(e){var t=this,a=t.options,n=t._extendExecArgs({target:e});a.previewPane&&t._openPane(i({pane:"Preview"},n))},editCard:function(e){var t,n=this,o=n.options;e=a(e),t=n._extendExecArgs({target:e}),o.editable&&n._openPane(i({pane:"Edit"},t))},saveCard:function(){var e=this;e.dataSource.sync()},deleteCard:function(e){var t=this,a=t.dataItem(e);t.dataSource.remove(a),t.dataSource.sync()},addCard:function(e){var t=this,a=t.options,n={card:e};a.editable&&t._openPane(i({pane:"Create"},n))},addColumn:function(e,t){var a,n,o,r=this,s=i(!0,{},r.options.columnSettings,{messages:r.options.messages,states:r._buildStates(),sortableIdentifier:r._sortableIdentifier});isNaN(e)&&!t&&(t=e,e=null),n=r.columnsDataSource._createNewModel(t),e=isNaN(e)||null===e?r.columnsDataSource.data().length:e,o=r.columns().eq(e),r.columnsDataSource.insert(e,n),a=new d.taskboard.NewColumn(s,n),isNaN(e)||!o.length?r.columnsContainer.append(a.element):o.before(a.element),a.bind(v,r.executeCommand.bind(r))},editColumn:function(e){var t=this;e=a(e),t._getColumnByElement(e).edit()},saveColumn:function(){var e=this;e.columnsDataSource.sync()},deleteColumn:function(e){var t=this,a=t.columnDataItem(e);t.columnsDataSource.remove(a),t.columnsDataSource.sync()},registerShortcut:function(e,t,a){var n=this;n.keyboardManager.registerShortcut(e,t,a)},enable:function(e,t){e=a(e),e.toggleClass(M.styles.disabled,t===!1),e.attr("aria-disabled",t===!1)},enableByColumn:function(e,t){var n=this;e=a(e),n.itemsByColumn(e).each(function(e,a){n.enable(a,t)})},readOnly:function(e,t){e=a(e),t=t!==!1,e.find("["+o.attr("command")+"]").toggleClass(M.styles.disabled,t),e.find("a,button").toggleClass(M.styles.disabled,t),e.toggleClass(M.styles.ignoreDrag,t),e.attr("aria-readonly",t)},readOnlyByColumn:function(e,t){var n=this;e=a(e),n.itemsByColumn(e).each(function(e,a){n.readOnly(a,t)})},setDataSource:function(e){var t=this;t.options.dataSource=e,t._dataSource(),t.options.autoBind&&t.dataSource.read()},setColumnsDataSource:function(e){var t=this;t.options.columns=e,t._columnsDataSource(),t.options.autoBind&&t.columnsDataSource.fetch(function(){t._renderCards(t.dataSource.view())})},_getColumn:function(e){return this._columns[e]},_getColumnByElement:function(e){var t,n=this;e=a(e);for(t in n._columns)if(n._columns[t].element[0]===e[0])return n._columns[t]},_openPane:function(e){var t,a,n=this,r=new d.taskboard.panes[e.pane](n,i({},n.options,{states:n._buildStates()}),e.card,n.resources,e.column);n.pane&&n._closePane(),n.pane=r,n.content.after(n.pane.element),n.content.css("margin-right",n.pane.element.width()+parseInt(n.pane.element.css("paddingLeft"),10)),n.pane.bind(v,n.executeCommand.bind(n)),n.pane.keyboardManager=a=new d.taskboard.KeyboardManager(n.pane.element),a.bind(v,n.executeCommand.bind(n)),a.registerShortcut("*",{keyCode:o.keys.ESC},{command:"ClosePaneCommand"}),a.registerShortcut("*",{keyCode:o.keys.ENTER},{command:"SaveChangesCommand",options:{card:n.pane._dataItem}}),t=n.pane.element.find("input"),t.length||(t=n.pane.element.find("button")),setTimeout(function(){t.eq(0).focus()},0)},_closePane:function(){var e=this;e.pane&&(e.pane.keyboardManager.destroy(),e.pane.unbind(v),e.pane.destroy(),delete e.pane,e.content.css("margin-right",""))},_wrapper:function(){var e=this,t=e.options,n=M.styles,o="<div class='"+n.header+"'></div>",r="<div class='"+n.content+"'></div>",s="<div class='"+n.columnsContainer+"'></div>";e.element.addClass(n.wrapper).width(t.width).height(t.height).attr("role","application"),e.header=a(o).appendTo(e.element),e.content=a(r).appendTo(e.element),e.columnsContainer=a(s).appendTo(e.content)},_initToolbar:function(){var e=this,t=M.styles,n=e.options,o=a("<div class='"+t.toolbar+"'></div>"),r=c(n.toolbar)?{items:n.toolbar}:n.toolbar;n.toolbar!==!1&&(r=i({},r,{taskboard:this,messages:n.messages,action:e.executeCommand.bind(e),states:e._buildStates()}),e.header.append(o),e.toolbar=new d.taskboard.ToolBar(o,r))},_buildStates:function(){var e=this;return{isEditable:e._isEditable(),isReorderable:e._isReorderable(),isSelectable:e._isSelectable(),isReadOnly:!e._isReorderable()&&!e._isEditable(),isDisabled:!e._isReorderable()&&!e._isEditable()&&!e._isSelectable(),isSearchable:e._isSearchable(),notLocalColumns:!(e.columnsDataSource.transport instanceof o.data.LocalTransport),isRtl:o.support.isRtl(e.wrapper)}},_isSearchable:function(){return!!this.options.search},_isEditable:function(){return!!this.options.editable},_isReorderable:function(){return!!this.options.reorderable},_isSelectable:function(){return!!this.options.selectable},executeCommand:function(e){var t=this,a=e.command,n=i({taskboard:this},u(e.options)?t._extendExecArgs(e.options):{value:e.options}),r=d.taskboard.commands[a]&&new d.taskboard.commands[a](n);t.trigger(C,e)||(r?r.exec():window.console.warn(o.format("Trying to use {0} command, but such is not available in the kendo.ui.taskboard.commands namespace!",a)))},_extendExecArgs:function(e){var t,r,s,d,l=this,c=e.draggableEvent?e.item:e.target;return e.card&&(c=l.items().filter(function(t,n){return a(n).attr(o.attr("uid"))===e.card.get("uid")})),c&&c&&c.length?(t=e.columnElement||(c.is(p+M.styles.column)?c:c.parents(p+M.styles.column)),s=l.columnsDataSource.getByUid(t.data(o.ns+"uid")),r=c.is(p+M.styles.card)?c:c.closest(p+M.styles.card),d=l.dataSource.getByUid(r.data(o.ns+"uid")),i(e,{card:d,cardElement:r.length?r:n,column:s,columnElement:t.length?t:n})):e},_select:function(e,t){var a=this;null===t&&(t=!0),a.trigger(b,{card:e})||(a.select(e,t),a.previewCard(e))},_columnsDataSource:function(){var e,t=this,a=t.options,n=a.columnSettings,r=a.columns;r=c(r)?{data:r}:r,n.dataOrderField&&!r.sort&&(r.sort={field:n.dataOrderField,dir:"asc"}),r.schema||(e={},e[n.dataStatusField]={type:"string",defaultValue:function(){return o.guid().split("-")[0]}},e[n.dataTextField]={type:"string"},n.dataOrderField&&(e[n.dataOrderField]={type:"number"}),r.schema={model:{fields:e}}),t.columnsDataSource&&t._columnsChangeHandler?(t.columnsDataSource.unbind(k,t._columnsChangeHandler),t.columnsDataSource.unbind(k,t._columnsErrorHandler)):(t._columnsChangeHandler=l(t._columnsDataSourceChange,t),t._columnsErrorHandler=l(t._error,t)),t.columnsDataSource=s.create(r).bind(k,t._columnsChangeHandler).bind(y,t._columnsErrorHandler)},_columnsDataSourceChange:function(e){var t,a,o,r,s=this,c=s.columnsDataSource.view(),u=i(!0,{},s.options.columnSettings,{messages:s.options.messages,states:s._buildStates(),sortableIdentifier:s._sortableIdentifier}),p=u.dataStatusField;if(!(e.action&&"sync"!==e.action||s.trigger(B,e))){for(s._progress(!0),s._columns={},s.columnsContainer.html(""),t=0;t<c.length;t++)a=c[t],o=a[p]||m,r=s._columns[o]=new d.taskboard.Column(u,a),s.columnsContainer.append(r.element),r.bind(v,s.executeCommand.bind(s)),r.bind(f,l(s._move,s)),r.bind(g,l(s._moveEnd,s)),r.bind(h,l(s._moveStart,s)),r.bind(k,l(s._changeOrder,s)),s._tabindex(r.element);"sync"!==e.action&&e.action!==n||s._renderCards(s.dataSource.view()),s._progress(!1),s.trigger(I,e)}},_move:function(e){this.trigger(f,this._extendExecArgs(e))},_moveEnd:function(e){this.trigger(g,this._extendExecArgs(e))},_moveStart:function(e){this.trigger(h,this._extendExecArgs(e))},_changeOrder:function(e){this.trigger(k,this._extendExecArgs(e))},_dataSource:function(){var e,t=this,a=t.options,n=a.dataSource;n=c(n)?{data:n}:n,a.dataOrderField&&!n.sort&&(n.sort={field:a.dataOrderField,dir:"asc"}),n.schema||(e={},e[a.dataStatusField]={type:"string"},e[a.dataTitleField]={type:"string"},e[a.dataDescriptionField]={type:"string"},e[a.dataCategoryField]={type:"string"},a.dataOrderField&&(e[a.dataOrderField]={type:"number"}),n.schema={model:{fields:e}}),t.dataSource&&t._changeHandler?(t.dataSource.unbind(k,t._changeHandler),t.dataSource.unbind(y,t._errorHandler)):(t._changeHandler=l(t._change,t),t._errorHandler=l(t._error,t)),t.dataSource=s.create(n).bind(k,t._changeHandler)},_change:function(e){var t=this;e.action&&"sync"!==e.action||t.trigger(_,e)||(t._progress(!0),t._clearColumns(),t._renderCards(t.dataSource.view()),t._closePane(),t.trigger(x,e),t._progress(!1))},_error:function(){this._progress(!1)},_renderCards:function(e){var t,a=this;for(t=0;t<e.length;t++)a._renderCard(e[t])},_renderCard:function(e){var t=this,a=i({},t.options,{states:t._buildStates()}),n=a.dataStatusField,o=e[n]||m;o&&t._columns[o]&&(e=new d.taskboard.Card(a,e,t.resources),t._columns[o].addCard(e.element),t._tabindex(e.element))},_clearColumns:function(){var e,t=this;for(e in t._columns)t._columns[e].empty()},_initCardMenu:function(){var e=this,t=e.options,a=c(t.cardMenu)?{items:t.cardMenu}:t.cardMenu;a=i({},{messages:t.messages,target:e.columnsContainer,filter:".k-taskboard-card-menu-button",action:e.executeCommand.bind(e),showOn:"click",alignToAnchor:!0,states:e._buildStates()},a),t.cardMenu!==!1&&(e.cardMenu=new d.taskboard.CardMenu("<ul></ul>",a))},_initResources:function(){var e,t=this,a=t.options.resources;for(e=0;e<a.length;e++)t._addResource(a[e])},_addResource:function(e){var t=this;t.resources||(t.resources={}),t.resources[e.field]={field:e.field,name:e.name,title:e.title||e.field,dataTextField:e.dataTextField||"text",dataValueField:e.dataValueField||"value",dataColorField:e.dataColorField||"color",valuePrimitive:e.valuePrimitive!==!1,multiple:e.multiple||!1,dataSource:t._resourceDataSource(e.dataSource)}},_resourceDataSource:function(e){var t=c(e)?{data:e}:e,a=o.data.DataSource.create(t);return a},_progress:function(e){var t=this;o.ui.progress(t.element,e)},_initKeyboard:function(){var e=this;e.keyboardManager=new d.taskboard.KeyboardManager(e.element),e.keyboardManager.bind(v,e.executeCommand.bind(e)),e._registerShortcuts()},_registerShortcuts:function(){var e=this,a=e._buildStates();a.isEditable&&(e.keyboardManager.registerShortcut(p+M.styles.column,{keyCode:o.keys.DELETE},{command:"DeleteColumnCommand"}),e.keyboardManager.registerShortcut(p+M.styles.column,{keyCode:"e",ctrlKey:!0},{command:"EditColumnCommand",handler:t}),e.keyboardManager.registerShortcut(p+M.styles.column,{keyCode:"a",ctrlKey:!0},{command:"AddCardCommand",handler:t}),e.keyboardManager.registerShortcut(p+M.styles.column+" *",{keyCode:o.keys.ESC},{command:"CancelEditColumnCommand"}),e.keyboardManager.registerShortcut(p+M.styles.card,{keyCode:o.keys.DELETE},{command:"DeleteCardCommand"}),e.keyboardManager.registerShortcut(p+M.styles.card,{keyCode:"e",ctrlKey:!0},{command:"EditCardCommand",handler:t})),a.isSelectable&&e.keyboardManager.registerShortcut(p+M.styles.card,{keyCode:o.keys.ENTER},{command:"SelectCardCommand",handler:t}),e.keyboardManager.registerShortcut(p+M.styles.card,{keyCode:o.keys.UP},{command:"MoveFocusCommand",options:{value:"up"},handler:t}),e.keyboardManager.registerShortcut(p+M.styles.card,{keyCode:o.keys.DOWN},{command:"MoveFocusCommand",options:{value:"down"},handler:t}),e.keyboardManager.registerShortcut(p+M.styles.card,{keyCode:o.keys.LEFT},{command:"MoveFocusCommand",options:{value:"left"},handler:t}),e.keyboardManager.registerShortcut(p+M.styles.card,{keyCode:o.keys.RIGHT},{command:"MoveFocusCommand",options:{value:"right"},handler:t}),e.keyboardManager.registerShortcut(p+M.styles.column,{keyCode:o.keys.LEFT},{command:"MoveFocusCommand",options:{value:"left"},handler:t}),e.keyboardManager.registerShortcut(p+M.styles.column,{keyCode:o.keys.RIGHT},{command:"MoveFocusCommand",options:{value:"right"},handler:t}),e.keyboardManager.registerShortcut(p+M.styles.column,{keyCode:o.keys.DOWN},{command:"MoveFocusCommand",options:{value:"down"},handler:t})},destroy:function(){var e,t=this;t._columnsChangeHandler&&(t.columnsDataSource.unbind(k,t._columnsChangeHandler),t.columnsDataSource.unbind(k,t._columnsErrorHandler)),t._changeHandler&&(t.dataSource.unbind(k,t._changeHandler),t.dataSource.unbind(y,t._errorHandler));for(e in t._columns)t._columns[e].destroy();t.toolbar&&t.toolbar.destroy(),t.cardMenu&&t.cardMenu.destroy(),t.keyboardManager&&t.keyboardManager.destroy(),t.pane&&t.closePane(),r.fn.destroy.call(t)}});o.ui.plugin(M),i(!0,M,{styles:e})}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,a){(a||t)()});
//# sourceMappingURL=kendo.taskboard.min.js.map
